import{createRadio}from"./components/createRadio.js";import{createSelect}from"./components/createSelect.js";import{createEndScreen}from"./components/createEndScreen.js";import{items}from"./db.js";const buttonsBlock=document.querySelector(".buttons"),nextBtn=document.querySelector(".button-next"),prevBtn=document.querySelector(".button-prev"),container=document.querySelector(".form");let index=0;const init=e=>{"select"===e.type?createSelect(container,e).step.textContent=`Шаг ${e.id}/${items.length+1}`:createRadio(container,e).step.textContent=`Шаг ${e.id}/${items.length+1}`};init(items[index]);const checkBtns=()=>{const e=document.querySelector(".form");e.querySelector('input[name = "radio"]'),nextBtn.removeEventListener("click",checkBtns);const t=e.querySelector('input[name = "radio"]:checked');e.addEventListener("input",(()=>{null!=t?nextBtn.disabled=!0:(nextBtn.disabled=!1,nextBtn.click())}))};checkBtns();const checkIndex=()=>{0===index?(prevBtn.style.opacity=0,prevBtn.disabled=!0,prevBtn.style.cursor="auto"):0!==index&&(prevBtn.style.opacity=1,prevBtn.disabled=!1,prevBtn.style.cursor="pointer")};checkIndex(),nextBtn.addEventListener("click",(e=>{e.preventDefault(),index++,checkIndex();const t=document.querySelector(".form");t.classList.add("form_inactive"),setTimeout((()=>{t.classList.remove("form_inactive"),index===items.length?(buttonsBlock.style.display="none",createEndScreen(container).step.textContent=`Шаг ${items.length+1}/${items.length+1}`):init(items[index])}),550),nextBtn.disabled=!0})),prevBtn.addEventListener("click",(e=>{e.preventDefault(),index--,checkIndex();const t=document.querySelector(".form");t.classList.add("form_inactive"),setTimeout((()=>{t.classList.remove("form_inactive"),init(items[index])}),550)}));